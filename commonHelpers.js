import{S as b,i,a as y}from"./assets/vendor-5401a4b0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(t){if(t.ep)return;t.ep=!0;const a=e(t);fetch(t.href,a)}})();const f="41734083-bc7e7acddd543bb8e35e20b9d",L=document.getElementById("search-form"),E=document.getElementById("search-input"),c=document.getElementById("gallery"),l=document.getElementById("loader"),d=document.getElementById("load-more-btn"),v=new b(".gallery a",{captionsData:"alt",captionDelay:250});let p=1,m="",g=0,h=0;L.addEventListener("submit",async n=>{n.preventDefault(),c.innerHTML="";const r=E.value.trim();if(!r){i.error({title:"Error",message:"Please enter a search query.",position:"topRight"});return}p=1,m=r,l.style.display="block",l.textContent="Loading images, please wait...";try{const o=(await y.get("https://pixabay.com/api/",{params:{key:f,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:p,per_page:40}})).data;if(o.hits&&o.hits.length>0){g=o.totalHits;const t=o.hits.map(s=>({url:s.webformatURL,alt:s.tags,largeUrl:s.largeImageURL,likes:s.likes,views:s.views,comments:s.comments,downloads:s.downloads}));d.style.display="none";const a=I(t[0]);c.appendChild(a),h=a.getBoundingClientRect().height,w(t)}else i.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}catch(e){console.error("Error fetching data:",e),i.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{l.textContent="",l.style.display="none",u()}});d.addEventListener("click",async()=>{l.textContent="Loading more images, please wait...",l.style.display="block";try{const r=(await y.get("https://pixabay.com/api/",{params:{key:f,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:p,per_page:40}})).data;if(r.hits&&r.hits.length>0){g=r.totalHits;const e=r.hits.map(o=>({url:o.webformatURL,alt:o.tags,largeUrl:o.largeImageURL,likes:o.likes,views:o.views,comments:o.comments,downloads:o.downloads}));w(e)}else i.info({title:"Info",message:"No more images to load.",position:"topRight"})}catch(n){console.error("Error fetching data:",n),i.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{l.textContent="",l.style.display="none",window.scrollBy({top:h*2,behavior:"smooth"}),u()}});function w(n){const r=n.map(e=>`
        <a href="${e.largeUrl}" data-lightbox="gallery" data-title="Likes: ${e.likes}, Views: ${e.views}, Comments: ${e.comments}, Downloads: ${e.downloads}">
          <img src="${e.url}" alt="${e.alt}" />
        </a>
      `).join("");c.insertAdjacentHTML("beforeend",r),v.refresh(),u()}function u(){g>c.children.length?d.style.display="block":(d.style.display="none",c.children.length>0&&p>1&&g===c.children.length&&i.info({title:"Info",message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}function I(n){const r=document.createElement("div");r.classList.add("gallery-card");const e=document.createElement("img");return e.src=n.url,e.alt=n.alt,r.appendChild(e),r}
//# sourceMappingURL=commonHelpers.js.map
